{"version":3,"file":"js/326.d85dc1c6.js","mappings":"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","sources":["webpack://briefedition/./src/components/Register.vue","webpack://briefedition/./src/components/Register.vue?0e3f"],"sourcesContent":["<template>\r\n  <!-- HINWEIS: Der Inhalt von compareEntries(a, b){...}, countLettersForEntry(entryId){...}, sowie async mounted(){...} wurde mithilfe von GPT-5 generiert und anschließend überarbeitet. -->\r\n  \r\n  <!--  Dieses Template generiert alle drei Registerseiten (Personen, Orte, Werke). Es ändert sich je nach übergebenen Daten.  -->\r\n  <div>\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-sm-10\">\r\n        <h2>{{ title }}</h2>\r\n\r\n        <ul>\r\n          <li v-for=\"entry in entries\" :key=\"entry.id\" :id=\"entry.id\">\r\n            <!--  Name existiert für alle drei Arten von Registereinträgen  -->\r\n            <!-- Wenn Person: Namen aus Vor- und Nachnamen zusammensetzen -->\r\n            <template v-if=\"type === 'person'\">\r\n              <b>\r\n                {{ entry.firstname ? entry.firstname + ' ' : '' }}{{ entry.name }}\r\n              </b>\r\n            </template>\r\n            <template v-else>\r\n              <b>{{ entry.name }}</b>\r\n            </template>\r\n\r\n            <!-- Person oder Ort: GND- und Wikidata-Link -->\r\n            <div v-if=\"type === 'person' || type === 'place'\" class=\"meta\">\r\n              <span>\r\n                <a v-if=\"entry.gnd\" :href=\"entry.gnd\" target=\"_blank\">GND</a>\r\n                <span v-else class=\"placeholder\">GND</span>\r\n              </span>\r\n              |\r\n              <span>\r\n                <a v-if=\"entry.wikidata\" :href=\"entry.wikidata\" target=\"_blank\">Wikidata</a>\r\n                <span v-else class=\"placeholder\">Wikidata</span>\r\n              </span>\r\n              <span>\r\n                <router-link :to=\"{name: 'briefe', query: {entityType: type, entityId: entry.id}}\" class=\"btn btn-dark btn-sm button\"> <!-- Link zur Briefübersichtsseite mit Filter -->\r\n                  <i class=\"bi bi-search\"></i>\r\n                  Briefe ({{ countLettersForEntry(entry.id) }})\r\n                </router-link>\r\n              </span>\r\n            </div>\r\n\r\n            <!-- Werk: GND- und Wikidata-Link, Link zu Digitalisat, Link zu Volltext -->\r\n            <div v-if=\"type === 'work'\" class=\"meta\">\r\n              <span>\r\n                <a v-if=\"entry.gnd\" :href=\"entry.gnd\" target=\"_blank\">GND</a>\r\n                <span v-else class=\"placeholder\">GND</span>\r\n              </span>\r\n              |\r\n              <span>\r\n                <a v-if=\"entry.wikidata\" :href=\"entry.wikidata\" target=\"_blank\">Wikidata</a>\r\n                <span v-else class=\"placeholder\">Wikidata</span>\r\n              </span>\r\n              |\r\n              <span>\r\n                <a v-if=\"entry.digitalisat\" :href=\"entry.digitalisat\" target=\"_blank\">Digitalisat</a>\r\n                <span v-else class=\"placeholder\">Digitalisat</span>\r\n              </span>\r\n              |\r\n              <span>\r\n                <a v-if=\"entry.volltext\" :href=\"entry.volltext\" target=\"_blank\">Volltext</a>\r\n                <span v-else class=\"placeholder\">Volltext</span>\r\n              </span>\r\n              <span>\r\n              <router-link :to=\"{name: 'briefe', query: {entityType: type, entityId: entry.id}}\" class=\"btn btn-dark btn-sm button\"> <!-- Link zur Briefübersichtsseite mit Filter -->\r\n                <i class=\"bi bi-search\"></i>\r\n                Briefe ({{ countLettersForEntry(entry.id) }})\r\n              </router-link>\r\n            </span>\r\n            </div>\r\n\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Register\",\r\n  props: {\r\n    url: { type: String, required: true },\r\n    title: { type: String, required: true },\r\n    type: { type: String, required: true } // Möglichkeiten: 'person', 'place', 'work'\r\n  },\r\n  data() {\r\n    return {\r\n      entries: [],\r\n      letters: []   // Alle Briefe: Wird für Filter nach Entitäten gebraucht\r\n    };\r\n  },\r\nasync mounted() {\r\n  try {\r\n    // Laden der Registerdaten\r\n    const response = await fetch(this.url);\r\n    const data = await response.json();\r\n\r\n    // Laden der Briefe (für Filter nach Entitäten)\r\n    const lettersRes = await fetch(\"/data/briefe_json/alle_briefe.json\");\r\n    this.letters = await lettersRes.json();\r\n\r\n    this.entries = Object.entries(data)\r\n      // Umstrukturierung des JSON-Objekts\r\n      .map(([id, entry]) => ({ id, ...entry }))\r\n      .sort((a, b) => this.compareEntries(a, b));\r\n\r\n    // Scroll zu Hash, falls vorhanden (Benötigt für Weiterleitung, wenn User auf einen Link zu einem Registereintrag klickt)\r\n    if (this.$route.hash) {\r\n      this.$nextTick(() => {\r\n        const el = document.querySelector(this.$route.hash);\r\n        if (el) el.scrollIntoView({ behavior: 'smooth' });\r\n      });\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Fehler beim Laden des Registers:\", err);\r\n  }\r\n},\r\n\r\nmethods: {\r\n\r\n  // Zum Sortieren der Register-Einträge nach Alphabet\r\n  compareEntries(a, b) {\r\n    const collator = new Intl.Collator(\"de\", {\r\n      sensitivity: \"base\",\r\n      numeric: true\r\n    });\r\n\r\n    // Personen: \"Nachname Vorname\", funktioniert auch, wenn nur eins davon existiert\r\n    if (this.type === \"person\") {\r\n      const nameA = `${a.name.replace(/^(von|der|den|de|zu)\\s+/i, \"\").trim() || \"\"} ${a.firstname || \"\"}`.trim();\r\n      const nameB = `${b.name.replace(/^(von|der|den|de|zu)\\s+/i, \"\").trim() || \"\"} ${b.firstname || \"\"}`.trim();\r\n      return collator.compare(nameA, nameB);\r\n    }\r\n\r\n    // Orte & Werke: Name\r\n    return collator.compare(a.name, b.name);\r\n  },\r\n\r\n  // Zum Zählen der Briefe, die die jeweilige Person, den Ort oder das Werk enthalten\r\n  countLettersForEntry(entryId) {\r\n    return this.letters.filter(letter => {\r\n\r\n      if (this.type === \"person\") {\r\n        return letter.register_entities?.persons?.includes(entryId);\r\n      }\r\n\r\n      if (this.type === \"place\") {\r\n        return letter.register_entities?.places?.includes(entryId);\r\n      }\r\n\r\n      if (this.type === \"work\") {\r\n        return letter.register_entities?.works?.includes(entryId);\r\n      }\r\n\r\n      return false;\r\n    }).length;\r\n  }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n/* Abstand zum oberen Rand */\r\n.row {\r\n  margin-top: 20px;\r\n}\r\n\r\nul {\r\n  list-style-type: none;\r\n  padding-left: 0;\r\n}\r\n\r\nli {\r\n  margin-bottom: 8px;\r\n}\r\n\r\n/* Links in einer Zeile, getrennt durch | */\r\nli div a {\r\n  margin-right: 4px;\r\n}\r\n\r\n/* Metadaten der Registereinträge */\r\n.meta {\r\n  font-size: 0.9em;\r\n  margin-top: 2px;\r\n}\r\n\r\n/* Ausgegraute Links/Placeholder wenn kein Link vorhanden (für GND, Wikidata etc.) */\r\n.placeholder {\r\n  color: rgb(50, 46, 46);\r\n  background: none;\r\n}\r\n\r\n/* Button mit Link zu Briefübersicht */\r\n.button {\r\n  background-color: var(--primary-blue) !important;\r\n  margin-left: 1em;\r\n}\r\n</style>\r\n","import { render } from \"./Register.vue?vue&type=template&id=07b20996&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=07b20996&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-07b20996\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_hoisted_1","_hoisted_2","_toDisplayString","$props","title","_Fragment","_renderList","$data","entries","entry","key","id","type","_hoisted_4","firstname","name","_hoisted_5","_hoisted_6","gnd","href","target","_hoisted_7","_hoisted_8","wikidata","_hoisted_9","_hoisted_10","_createVNode","_component_router_link","to","query","entityType","entityId","$options","countLettersForEntry","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","digitalisat","_hoisted_16","_hoisted_17","volltext","_hoisted_18","_hoisted_19","props","url","String","required","data","letters","mounted","response","fetch","this","json","lettersRes","Object","map","sort","a","b","compareEntries","$route","hash","$nextTick","el","document","querySelector","scrollIntoView","behavior","err","console","error","methods","collator","Intl","Collator","sensitivity","numeric","nameA","replace","trim","nameB","compare","entryId","filter","letter","register_entities","persons","includes","places","works","length","__exports__","render"],"sourceRoot":""}