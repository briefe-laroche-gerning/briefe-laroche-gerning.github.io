"use strict";(self["webpackChunkbriefedition"]=self["webpackChunkbriefedition"]||[]).push([[326],{9326:function(e,t,r){r.r(t),r.d(t,{default:function(){return F}});var n=r(6768),a=r(4232);const i={class:"row justify-content-center"},s={class:"col-sm-10"},l=["id"],o={key:0},u={key:1},d={key:2,class:"meta"},c=["href"],k={key:1,class:"placeholder"},p=["href"],h={key:1,class:"placeholder"},y={key:3,class:"meta"},f=["href"],b={key:1,class:"placeholder"},m=["href"],g={key:1,class:"placeholder"},E=["href"],C={key:1,class:"placeholder"},v=["href"],_={key:1,class:"placeholder"};function X(e,t,r,X,L,w){const W=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",i,[(0,n.Lk)("div",s,[(0,n.Lk)("h2",null,(0,a.v_)(r.title),1),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(L.entries,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,id:e.id},["person"===r.type?((0,n.uX)(),(0,n.CE)("b",o,(0,a.v_)(e.firstname?e.firstname+" ":"")+(0,a.v_)(e.name),1)):((0,n.uX)(),(0,n.CE)("b",u,(0,a.v_)(e.name),1)),"person"===r.type||"place"===r.type?((0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("span",null,[e.gnd?((0,n.uX)(),(0,n.CE)("a",{key:0,href:e.gnd,target:"_blank"},"GND",8,c)):((0,n.uX)(),(0,n.CE)("span",k,"GND"))]),t[1]||(t[1]=(0,n.eW)(" | ",-1)),(0,n.Lk)("span",null,[e.wikidata?((0,n.uX)(),(0,n.CE)("a",{key:0,href:e.wikidata,target:"_blank"},"Wikidata",8,p)):((0,n.uX)(),(0,n.CE)("span",h,"Wikidata"))]),(0,n.Lk)("span",null,[(0,n.bF)(W,{to:{name:"briefe",query:{entityType:r.type,entityId:e.id}},class:"btn btn-dark btn-sm button"},{default:(0,n.k6)(()=>[t[0]||(t[0]=(0,n.Lk)("i",{class:"bi bi-search"},null,-1)),(0,n.eW)(" Briefe ("+(0,a.v_)(w.countLettersForEntry(e.id))+") ",1)]),_:2},1032,["to"])])])):(0,n.Q3)("",!0),"work"===r.type?((0,n.uX)(),(0,n.CE)("div",y,[(0,n.Lk)("span",null,[e.gnd?((0,n.uX)(),(0,n.CE)("a",{key:0,href:e.gnd,target:"_blank"},"GND",8,f)):((0,n.uX)(),(0,n.CE)("span",b,"GND"))]),t[3]||(t[3]=(0,n.eW)(" | ",-1)),(0,n.Lk)("span",null,[e.wikidata?((0,n.uX)(),(0,n.CE)("a",{key:0,href:e.wikidata,target:"_blank"},"Wikidata",8,m)):((0,n.uX)(),(0,n.CE)("span",g,"Wikidata"))]),t[4]||(t[4]=(0,n.eW)(" | ",-1)),(0,n.Lk)("span",null,[e.digitalisat?((0,n.uX)(),(0,n.CE)("a",{key:0,href:e.digitalisat,target:"_blank"},"Digitalisat",8,E)):((0,n.uX)(),(0,n.CE)("span",C,"Digitalisat"))]),t[5]||(t[5]=(0,n.eW)(" | ",-1)),(0,n.Lk)("span",null,[e.volltext?((0,n.uX)(),(0,n.CE)("a",{key:0,href:e.volltext,target:"_blank"},"Volltext",8,v)):((0,n.uX)(),(0,n.CE)("span",_,"Volltext"))]),(0,n.Lk)("span",null,[(0,n.bF)(W,{to:{name:"briefe",query:{entityType:r.type,entityId:e.id}},class:"btn btn-dark btn-sm button"},{default:(0,n.k6)(()=>[t[2]||(t[2]=(0,n.Lk)("i",{class:"bi bi-search"},null,-1)),(0,n.eW)(" Briefe ("+(0,a.v_)(w.countLettersForEntry(e.id))+") ",1)]),_:2},1032,["to"])])])):(0,n.Q3)("",!0)],8,l))),128))])])])])}r(8111),r(2489),r(1701);var L={name:"Register",props:{url:{type:String,required:!0},title:{type:String,required:!0},type:{type:String,required:!0}},data(){return{entries:[],letters:[]}},async mounted(){try{const e=await fetch(this.url),t=await e.json(),r=await fetch("/data/briefe_json/alle_briefe.json");this.letters=await r.json(),this.entries=Object.entries(t).map(([e,t])=>({id:e,...t})).sort((e,t)=>this.compareEntries(e,t)),this.$route.hash&&this.$nextTick(()=>{const e=document.querySelector(this.$route.hash);e&&e.scrollIntoView({behavior:"smooth"})})}catch(e){console.error("Fehler beim Laden des Registers:",e)}},methods:{compareEntries(e,t){const r=new Intl.Collator("de",{sensitivity:"base",numeric:!0});if("person"===this.type){const n=`${e.name.replace(/^(von|der|den|de|zu)\s+/i,"").trim()||""} ${e.firstname||""}`.trim(),a=`${t.name.replace(/^(von|der|den|de|zu)\s+/i,"").trim()||""} ${t.firstname||""}`.trim();return r.compare(n,a)}return r.compare(e.name,t.name)},countLettersForEntry(e){return this.letters.filter(t=>"person"===this.type?t.register_entities?.persons?.includes(e):"place"===this.type?t.register_entities?.places?.includes(e):"work"===this.type&&t.register_entities?.works?.includes(e)).length}}},w=r(1241);const W=(0,w.A)(L,[["render",X],["__scopeId","data-v-07b20996"]]);var F=W}}]);
//# sourceMappingURL=326.d85dc1c6.js.map